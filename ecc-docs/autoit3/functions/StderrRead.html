<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<!-- Mirrored from www.autoitscript.com/autoit3/docs/functions/StderrRead.htm by HTTrack Website Copier/3.x [XR&CO'2006], Mon, 21 May 2007 15:29:01 GMT -->
<head>
  <title>Function StderrRead</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <link href="../css/default.css" rel="stylesheet" type="text/css">
</head>

<body>
<h1>Function Reference</h1>
<font size="+1">StderrRead</font>
<hr size="2">
<p>Read in a number of characters from the STDERR stream of a previously run child process.<br></p>

<p class="codeheader">
StderrRead ( process_id[, count[, peek = false]] )<br>
</p>
<p>&nbsp;</p>

<p><b>Parameters</b></p>
<table border="1" width="100%" cellspacing="0" cellpadding="3" bordercolor="#C0C0C0">
  <tr>
    <td width="15%">process_id</td>
    <td width="85%">The process ID of a child process, as returned by a previous call to Run.</td>
  </tr>
  <tr>
   <td>count</td>
   <td>The number of characters to read.</td>
  </tr>
  <tr>
   <td>peek</td>
   <td>If true the function does not remove the read characters from the stream.</td>
  </tr>
</table>
<p>&nbsp;</p>

<p><b>Return Value</b></p>
<table width="100%">
  <tr>
    <td width="10%" valign="top">Success:</td>
    <td width="90%">Returns a string of the characters read.</td>
  </tr>
  <tr>
    <td valign="top">Failure:</td>
    <td>Sets @error to non-zero if EOF is reached, STDERR was not redirected for the process or other error.</td>
  </tr>
</table>
<p>&nbsp;</p>

<p><b>Remarks</b></p>
StderrRead reads from the console standard error stream of a child process, which is normally used by console applications to write errors to the screen. During the call to Run for the child process you wish to read from, the STD I/O parameter must have included the STDERR flag value (4) for this function to work properly (see the <a href="Run.html">Run</a> function).<br>
<br>
The optional second parameter tells StderrRead to read <i>count</i> characters from the stream. If fewer than <i>count</i> characters are available, StderrRead returns a string of all the characters that are available at that time. If the function is called with no second argument or a second argument of less than zero, StderrRead assumes you that you wish to read the maximum number of characters and returns a string of all the characters that are available (up to 64kb in a single read).<br>
<br>
If at any time when this function is called (except for "peeking" as described below) there are no characters to be read from the stream, the StderrRead function will block (pause) and not return until there are characters to be read from the stream. This means that the AutoIt process will be halted, and there will be no processing of hotkeys, GUI messages, etc. until the child process writes something to the STDERR stream.<br>
<br>
If StderrRead is called with a third argument other than zero, StderrRead will "peek at" the stream rather than actually reading from it, and return the characters that could be read from the stream. When run as a "peek" StderrRead always returns immediately. Note that any characters are still present on the stream after a peek and will be returned on the next read operation.<br>
<br>
When called with a second argument of 0 and a third argument that directs the function to "peek", StderrRead returns a numeric value of the number of characters that could currently be read from the stream.<br>
<br>
Streams of child processes run with RunAsSet cannot be read from at this time.<br>
<br>
<p>&nbsp;</p>

<p><b>Related</b></p>
<a href="StdoutRead.html">StdoutRead</a>, <a href="StdinWrite.html">StdinWrite</a>, <a href="Run.html">Run</a>
<p>&nbsp;</p>

<p><b>Example</b></p>
<p class="codebox">
<br>
<span><span class="S1">; Demonstrates StdoutRead()</span><br>
<span class="S11">#include</span><span class="S0"> </span><span class="S7">&lt;Constants.au3&gt;</span><br>
<br>
<span class="S9">$foo</span><span class="S0"> </span><span class="S8">=</span><span class="S0"> </span><span class="S4">Run</span><span class="S8">(</span><span class="S6">@ComSpec</span><span class="S0"> </span><span class="S8">&amp;</span><span class="S0"> </span><span class="S7">" /c dir foo.bar"</span><span class="S8">,</span><span class="S0"> </span><span class="S6">@SystemDir</span><span class="S8">,</span><span class="S0"> </span><span class="S6">@SW_HIDE</span><span class="S8">,</span><span class="S0"> </span><span class="S9">$STDERR_CHILD</span><span class="S0"> </span><span class="S8">+</span><span class="S0"> </span><span class="S9">$STDOUT_CHILD</span><span class="S8">)</span><br>
<br>
<span class="S5">While</span><span class="S0"> </span><span class="S3">1</span><br>
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S9">$line</span><span class="S0"> </span><span class="S8">=</span><span class="S0"> </span><span class="S4">StdoutRead</span><span class="S8">(</span><span class="S9">$foo</span><span class="S8">)</span><br>
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">If</span><span class="S0"> </span><span class="S6">@error</span><span class="S0"> </span><span class="S5">Then</span><span class="S0"> </span><span class="S5">ExitLoop</span><br>
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S4">MsgBox</span><span class="S8">(</span><span class="S3">0</span><span class="S8">,</span><span class="S0"> </span><span class="S7">"STDOUT read:"</span><span class="S8">,</span><span class="S0"> </span><span class="S9">$line</span><span class="S8">)</span><br>
<span class="S5">Wend</span><br>
<br>
<span class="S5">While</span><span class="S0"> </span><span class="S3">1</span><br>
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S9">$line</span><span class="S0"> </span><span class="S8">=</span><span class="S0"> </span><span class="S4">StderrRead</span><span class="S8">(</span><span class="S9">$foo</span><span class="S8">)</span><br>
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">If</span><span class="S0"> </span><span class="S6">@error</span><span class="S0"> </span><span class="S5">Then</span><span class="S0"> </span><span class="S5">ExitLoop</span><br>
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S4">MsgBox</span><span class="S8">(</span><span class="S3">0</span><span class="S8">,</span><span class="S0"> </span><span class="S7">"STDERR read:"</span><span class="S8">,</span><span class="S0"> </span><span class="S9">$line</span><span class="S8">)</span><br>
<span class="S5">Wend</span><br>
<br>
<span class="S4">MsgBox</span><span class="S8">(</span><span class="S3">0</span><span class="S8">,</span><span class="S0"> </span><span class="S7">"Debug"</span><span class="S8">,</span><span class="S0"> </span><span class="S7">"Exiting..."</span><span class="S8">)</span><br>
<span class="S0"></span></span><br>
<p>&nbsp;</p>

</body>

<!-- Mirrored from www.autoitscript.com/autoit3/docs/functions/StderrRead.htm by HTTrack Website Copier/3.x [XR&CO'2006], Mon, 21 May 2007 15:29:01 GMT -->
</html>
